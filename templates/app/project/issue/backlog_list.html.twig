{% extends 'app/project/issue/list.html.twig' %}
{% trans_default_domain 'app' %}

{% block pageTitle 'issue.title.backlogList'|trans %}
{% set breadcrumb = [
    {
        label: 'issue.title.backlogList',
        href: path('app_project_issues_backlog_list', {key: current_project.jiraKey}),
    },
    {
        label: 'action.list',
    }
] %}

{% block content %}
    {% set queryParams = app.request.query.all %}
    {% set updatedParams = queryParams|merge({'key': current_project.jiraKey, 'page': searchIssuesResult.nextPageToken}) %}

    {% include 'app/project/issue/_list_content.html.twig' with {
        searchIssuesResult: searchIssuesResult,
        filterFormResetPath: path('app_project_issues_backlog_list', {key: current_project.jiraKey}),
        filterForm: filterForm,
        nextPageLink: searchIssuesResult.nextPageToken is not null ? path('app_project_issues_backlog_list', updatedParams) : null
    } %}
{% endblock %}
